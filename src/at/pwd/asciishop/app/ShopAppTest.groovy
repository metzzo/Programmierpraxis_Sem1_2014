package at.pwd.asciishop.app

import at.pwd.asciishop.helper.IOHelper

/**
 * Created by Robert on 06.11.2014.
 */
class ShopAppTest extends GroovyTestCase {
    def app, input, output
    def data = [
        [
            'input': 'read 3\naaa\naaa\naaa\nfill 1 1 b',
            'output': 'bbb\nbbb\nbbb\n3 3\n'
        ],
        [
            'input': 'read 27\n' +
                    '============,.V+.;============\n' +
                    '===========;.X##..;===========\n' +
                    '===========..####..===========\n' +
                    '==========,.##M###.:==========\n' +
                    '=========;.R##WW##=.;=========\n' +
                    '=========..##MWMW##,.=========\n' +
                    '========:.I##WWMWW#W.,========\n' +
                    '=======;.:##WWWWWW##I.;=======\n' +
                    '=======:.W########M##..=======\n' +
                    '=======.:############V.;======\n' +
                    '=======.####...,.,M###,.======\n' +
                    '======,.###:..+++;,B..#.;=====\n' +
                    '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                    '====:..#..##.RYYIt##...#=.,===\n' +
                    '==;..+#;...#######W....##W..:=\n' +
                    ':..t###......iVV=....,.+#iM#..\n' +
                    '.B#i,#..,,..........,,..#,..#I\n' +
                    'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                    ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                    '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                    ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                    '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                    'i###M..,...........,,:,,..###.\n' +
                    '.####........=II;.....,,.;##R.\n' +
                    ',...#....X####MW###B.....Wi..:\n' +
                    '==;,##,###;........##i...#;,==\n' +
                    '===,.IVi..,;======:..B#B#t.;==\n' +
                    'fill 2 28 m',
            'output': 'OPERATION FAILED\n'
        ],
        [
            'input': '27\n' +
                    '============,.V+.;============\n' +
                    '===========;.X##..;===========\n' +
                    '===========..####..===========\n' +
                    '==========,.##M###.:==========\n' +
                    '=========;.R##WW##=.;=========\n' +
                    '=========..##MWMW##,.=========\n' +
                    '========:.I##WWMWW#W.,========\n' +
                    '=======;.:##WWWWWW##I.;=======\n' +
                    '=======:.W########M##..=======\n' +
                    '=======.:############V.;======\n' +
                    '=======.####...,.,M###,.======\n' +
                    '======,.###:..+++;,B..#.;=====\n' +
                    '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                    '====:..#..##.RYYIt##...#=.,===\n' +
                    '==;..+#;...#######W....##W..:=\n' +
                    ':..t###......iVV=....,.+#iM#..\n' +
                    '.B#i,#..,,..........,,..#,..#I\n' +
                    'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                    ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                    '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                    ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                    '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                    'i###M..,...........,,:,,..###.\n' +
                    '.####........=II;.....,,.;##R.\n' +
                    ',...#....X####MW###B.....Wi..:\n' +
                    '==;,##,###;........##i...#;,==\n' +
                    '===,.IVi..,;======:..B#B#t.;==\n' +
                    'fill 1 2 m',
            'output': 'INPUT MISMATCH\n'
        ],
        [
            'input': 'read 27\n' +
                    '============,.V+.;============\n' +
                    '===========;.X##..;===========\n' +
                    '===========..####..===========\n' +
                    '==========,.##M###.:==========\n' +
                    '=========;.R##WW##=.;=========\n' +
                    '=========..##MWMW##,.=========\n' +
                    '========:.I##WWMWW#W.,========\n' +
                    '=======;.:##WWWWWW##I.;=======\n' +
                    '=======:.W########M##..=======\n' +
                    '=======.:############V.;======\n' +
                    '=======.####...,.,M###,.======\n' +
                    '======,.###:..+++;,B..#.;=====\n' +
                    '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                    '====:..#..##.RYYIt##...#=.,===\n' +
                    '==;..+#;...#######W....##W..:=\n' +
                    ':..t###......iVV=....,.+#iM#..\n' +
                    '.B#i,#..,,..........,,..#,..#I\n' +
                    'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                    ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                    '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                    ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                    '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                    'i###M..,...........,,:,,..###.\n' +
                    '.####........=II;.....,,.;##R.\n' +
                    ',...#....X####MW###B.....Wi..:\n' +
                    '==;,##,###;........##i...#;,==\n' +
                    '===,.IVi..,;======:..B#B#t.;==\n' +
                    'fill 0 0 $\n' +
                    'fill 20 1 #',
            'output': '$$$$$$$$$$$$,.V+.;############\n' +
                    '$$$$$$$$$$$;.X##..;###########\n' +
                    '$$$$$$$$$$$..####..###########\n' +
                    '$$$$$$$$$$,.##M###.:##########\n' +
                    '$$$$$$$$$;.R##WW##=.;#########\n' +
                    '$$$$$$$$$..##MWMW##,.#########\n' +
                    '$$$$$$$$:.I##WWMWW#W.,########\n' +
                    '$$$$$$$;.:##WWWWWW##I.;#######\n' +
                    '$$$$$$$:.W########M##..#######\n' +
                    '$$$$$$$.:############V.;######\n' +
                    '$$$$$$$.####...,.,M###,.######\n' +
                    '$$$$$$,.###:..+++;,B..#.;#####\n' +
                    '$$$$$;.#;.#i+YXVVY:#V.#..:####\n' +
                    '$$$$:..#..##.RYYIt##...#=.,###\n' +
                    '$$;..+#;...#######W....##W..:#\n' +
                    ':..t###......iVV=....,.+#iM#..\n' +
                    '.B#i,#..,,..........,,..#,..#I\n' +
                    'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                    ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                    '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                    ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                    '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                    'i###M..,...........,,:,,..###.\n' +
                    '.####........=II;.....,,.;##R.\n' +
                    ',...#....X####MW###B.....Wi..:\n' +
                    '==;,##,###;........##i...#;,==\n' +
                    '===,.IVi..,;======:..B#B#t.;==\n' +
                    '30 27\n'
        ],
        [
            'input': 'read 27\n' +
                    '============,.V+.;============\n' +
                    '===========;.X##..;===========\n' +
                    '===========..####..===========\n' +
                    '==========,.##M###.:==========\n' +
                    '=========;.R##WW##=.;=========\n' +
                    '=========..##MWMW##,.=========\n' +
                    '========:.I##WWMWW#W.,========\n' +
                    '=======;.:##WWWWWW##I.;=======\n' +
                    '=======:.W########M##..=======\n' +
                    '=======.:############V.;======\n' +
                    '=======.####...,.,M###,.======\n' +
                    '======,.###:..+++;,B..#.;=====\n' +
                    '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                    '====:..#..##.RYYIt##...#=.,===\n' +
                    '==;..+#;...#######W....##W..:=\n' +
                    ':..t###......iVV=....,.+#iM#..\n' +
                    '.B#i,#..,,..........,,..#,..#I\n' +
                    'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                    ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                    '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                    ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                    '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                    'i###M..,...........,,:,,..###.\n' +
                    '.####........=II;.....,,.;##R.\n' +
                    ',...#....X####MW###B.....Wi..:\n' +
                    '==;,##,###;........##i...#;,==\n' +
                    '===,.IVi..,;======:..B#B#t.;==\n' +
                    'fill 0 0 $\n' +
                    'fill 0 u',
            'output': 'INPUT MISMATCH\n'
        ],
        [
                'input': 'read 27\n' +
                        '============,.V+.;============\n' +
                        '===========;.X##..;===========\n' +
                        '===========..####..===========\n' +
                        '==========,.##M###.:==========\n' +
                        '=========;.R##WW##=.;=========\n' +
                        '=========..##MWMW##,.=========\n' +
                        '========:.I##WWMWW#W.,========\n' +
                        '=======;.:##WWWWWW##I.;=======\n' +
                        '=======:.W########M##..=======\n' +
                        '=======.:############V.;======\n' +
                        '=======.####...,.,M###,.======\n' +
                        '======,.###:..+++;,B..#.;=====\n' +
                        '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                        '====:..#..##.RYYIt##...#=.,===\n' +
                        '==;..+#;...#######W....##W..:=\n' +
                        ':..t###......iVV=....,.+#iM#..\n' +
                        '.B#i,#..,,..........,,..#,..#I\n' +
                        'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                        ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                        '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                        ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                        '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                        'i###M..,...........,,:,,..###.\n' +
                        '.####........=II;.....,,.;##R.\n' +
                        ',...#....X####MW###B.....Wi..:\n' +
                        '==;,##,###;........##i...#;,==\n' +
                        '===,.IVi..,;======:..B#B#t.;==\n' +
                        'uniqueChars',
                'output': '17\n' +
                        '============,.V+.;============\n' +
                        '===========;.X##..;===========\n' +
                        '===========..####..===========\n' +
                        '==========,.##M###.:==========\n' +
                        '=========;.R##WW##=.;=========\n' +
                        '=========..##MWMW##,.=========\n' +
                        '========:.I##WWMWW#W.,========\n' +
                        '=======;.:##WWWWWW##I.;=======\n' +
                        '=======:.W########M##..=======\n' +
                        '=======.:############V.;======\n' +
                        '=======.####...,.,M###,.======\n' +
                        '======,.###:..+++;,B..#.;=====\n' +
                        '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                        '====:..#..##.RYYIt##...#=.,===\n' +
                        '==;..+#;...#######W....##W..:=\n' +
                        ':..t###......iVV=....,.+#iM#..\n' +
                        '.B#i,#..,,..........,,..#,..#I\n' +
                        'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                        ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                        '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                        ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                        '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                        'i###M..,...........,,:,,..###.\n' +
                        '.####........=II;.....,,.;##R.\n' +
                        ',...#....X####MW###B.....Wi..:\n' +
                        '==;,##,###;........##i...#;,==\n' +
                        '===,.IVi..,;======:..B#B#t.;==\n' +
                        '30 27\n'
        ],
        [
                'input': 'read 27\n' +
                        '============,.V+.;============\n' +
                        '===========;.X##..;===========\n' +
                        '===========..####..===========\n' +
                        '==========,.##M###.:==========\n' +
                        '=========;.R##WW##=.;=========\n' +
                        '=========..##MWMW##,.=========\n' +
                        '========:.I##WWMWW#W.,========\n' +
                        '=======;.:##WWWWWW##I.;=======\n' +
                        '=======:.W########M##..=======\n' +
                        '=======.:############V.;======\n' +
                        '=======.####...,.,M###,.======\n' +
                        '======,.###:..+++;,B..#.;=====\n' +
                        '=====;.#;.#i+YXVVY:#V.#..:====\n' +
                        '====:..#..##.RYYIt##...#=.,===\n' +
                        '==;..+#;...#######W....##W..:=\n' +
                        ':..t###......iVV=....,.+#iM#..\n' +
                        '.B#i,#..,,..........,,..#,..#I\n' +
                        'V#...#..,,,,,.,,,,:,,,..R#..V#\n' +
                        ';#+.i#..,,,,,,,,,.,,,,,.iX.X#,\n' +
                        '.i#=MV..,,,,.,,,,,,.,,,..###..\n' +
                        ',.t##..,,,,,,,,,,,,,,:,..V##.;\n' +
                        '..M#M..,,,,.,.,,,,,,,:,,.=##..\n' +
                        'i###M..,...........,,:,,..###.\n' +
                        '.####........=II;.....,,.;##R.\n' +
                        ',...#....X####MW###B.....Wi..:\n' +
                        '==;,##,###;........##i...#;,==\n' +
                        '===,.IV',
                'output': 'INPUT MISMATCH\n'
        ],
        [
                'input': 'read 24\n' +
                        '........................................\n' +
                        '...................................MM...\n' +
                        '..............................MMMMMM,...\n' +
                        '.........................,MMMMMMMMMM....\n' +
                        '....................,MMMMMMMMMMMMMM.....\n' +
                        '................MMMMMMMMMMMMMMMMMMM.....\n' +
                        '..................MMMMMMMMMMMMMMMM......\n' +
                        '...................MMMMMMMMMMMMMMM......\n' +
                        '..................MMMMMMMMMMMMMMM,......\n' +
                        '................+MMMMMMMMMMMMMMMM.......\n' +
                        '...............MMMMMMMMMMMMMMMMM........\n' +
                        '.............MMMMMMMMMMMMMMMMMMM........\n' +
                        '............MMMMMMMMMMMMMM.MMMM,........\n' +
                        '..........MMMMMMMMMMMMMM+....MM.........\n' +
                        '........+MMMMMMMMMMMMMM.................\n' +
                        '.......MMMMMMMMMMMMMM...................\n' +
                        '.....MMMMMMMMMMMMMMM....................\n' +
                        '....MMMMMMMMMMMMMM......................\n' +
                        '..MMMMMMMMMMMMMM+.......................\n' +
                        '..MMMMMMMMMMMMM.........................\n' +
                        '....MMMMMMMMM...........................\n' +
                        '.....MMMMMMM............................\n' +
                        '.......MMM..............................\n' +
                        '........................................\n' +
                        'transpose',
                'output': '........................\n' +
                        '........................\n' +
                        '..................MM....\n' +
                        '..................MM....\n' +
                        '.................MMMM...\n' +
                        '................MMMMMM..\n' +
                        '................MMMMMM..\n' +
                        '...............MMMMMMMM.\n' +
                        '..............+MMMMMMMM.\n' +
                        '..............MMMMMMMMM.\n' +
                        '.............MMMMMMMMM..\n' +
                        '.............MMMMMMMMM..\n' +
                        '............MMMMMMMMM...\n' +
                        '...........MMMMMMMMM....\n' +
                        '...........MMMMMMMMM....\n' +
                        '..........MMMMMMMMM.....\n' +
                        '.....M...+MMMMMMMM+.....\n' +
                        '.....M...MMMMMMMMM......\n' +
                        '.....MM.MMMMMMMMM.......\n' +
                        '.....MMMMMMMMMMMM.......\n' +
                        '....,MMMMMMMMMMM........\n' +
                        '....MMMMMMMMMMM.........\n' +
                        '....MMMMMMMMMMM.........\n' +
                        '....MMMMMMMMMM..........\n' +
                        '....MMMMMMMMM+..........\n' +
                        '...,MMMMMMMMM...........\n' +
                        '...MMMMMMMMM............\n' +
                        '...MMMMMMMMMM...........\n' +
                        '...MMMMMMMMMM...........\n' +
                        '...MMMMMMMMMMM..........\n' +
                        '..MMMMMMMMMMMM..........\n' +
                        '..MMMMMMMMMM,...........\n' +
                        '..MMMMMMMM..............\n' +
                        '..MMMMMM,...............\n' +
                        '..MMMM..................\n' +
                        '.MMM....................\n' +
                        '.M,.....................\n' +
                        '........................\n' +
                        '........................\n' +
                        '........................\n' +
                        '24 40\n'
        ],
        [
                'input': 'read 24\n' +
                        '........................................\n' +
                        '...................................MM...\n' +
                        '..............................MMMMMM,...\n' +
                        '.........................,MMMMMMMMMM....\n' +
                        '....................,MMMMMMMMMMMMMM.....\n' +
                        '................MMMMMMMMMMMMMMMMMMM.....\n' +
                        '..................MMMMMMMMMMMMMMMM......\n' +
                        '...................MMMMMMMMMMMMMMM......\n' +
                        '..................MMMMMMMMMMMMMMM,......\n' +
                        '................+MMMMMMMMMMMMMMMM.......\n' +
                        '...............MMMMMMMMMMMMMMMMM........\n' +
                        '.............MMMMMMMMMMMMMMMMMMM........\n' +
                        '............MMMMMMMMMMMMMM.MMMM,........\n' +
                        '..........MMMMMMMMMMMMMM+....MM.........\n' +
                        '........+MMMMMMMMMMMMMM.................\n' +
                        '.......MMMMMMMMMMMMMM...................\n' +
                        '.....MMMMMMMMMMMMMMM....................\n' +
                        '....MMMMMMMMMMMMMM......................\n' +
                        '..MMMMMMMMMMMMMM+.......................\n' +
                        '..MMMMMMMMMMMMM.........................\n' +
                        '....MMMMMMMMM...........................\n' +
                        '.....MMMMMMM............................\n' +
                        '.......MMM..............................\n' +
                        '........................................\n' +
                        'flip-v',
                'output': '........................................\n' +
                        '.......MMM..............................\n' +
                        '.....MMMMMMM............................\n' +
                        '....MMMMMMMMM...........................\n' +
                        '..MMMMMMMMMMMMM.........................\n' +
                        '..MMMMMMMMMMMMMM+.......................\n' +
                        '....MMMMMMMMMMMMMM......................\n' +
                        '.....MMMMMMMMMMMMMMM....................\n' +
                        '.......MMMMMMMMMMMMMM...................\n' +
                        '........+MMMMMMMMMMMMMM.................\n' +
                        '..........MMMMMMMMMMMMMM+....MM.........\n' +
                        '............MMMMMMMMMMMMMM.MMMM,........\n' +
                        '.............MMMMMMMMMMMMMMMMMMM........\n' +
                        '...............MMMMMMMMMMMMMMMMM........\n' +
                        '................+MMMMMMMMMMMMMMMM.......\n' +
                        '..................MMMMMMMMMMMMMMM,......\n' +
                        '...................MMMMMMMMMMMMMMM......\n' +
                        '..................MMMMMMMMMMMMMMMM......\n' +
                        '................MMMMMMMMMMMMMMMMMMM.....\n' +
                        '....................,MMMMMMMMMMMMMM.....\n' +
                        '.........................,MMMMMMMMMM....\n' +
                        '..............................MMMMMM,...\n' +
                        '...................................MM...\n' +
                        '........................................\n' +
                        '40 24\n'
        ],
        [
                'input': 'read 18\n' +
                        '.....X....X......................X....X.....\n' +
                        '....XXX..XXX....................XXX..XXX....\n' +
                        '....XXX..XXX....................XXX..XXX....\n' +
                        '....XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX....\n' +
                        '....XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX....\n' +
                        '..XXXXXXXXXXXX................XXXXXXXXXXXX..\n' +
                        '.XXXXXXXXXXXXXX..............XXXXXXXXXXXXXX.\n' +
                        '.XXXXXXXXXXXXXX..............XXXXXXXXXXXXXX.\n' +
                        '.XXXXXXXXXXXXXX..............XXXXXXXXXXXXXX.',
                'output': '.....X....X......................X....X.....\n' +
                        '....XXX..XXX....................XXX..XXX....\n' +
                        '....XXX..XXX....................XXX..XXX....\n' +
                        '....XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX....\n' +
                        '....XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXX....................XXXXXXXX....\n' +
                        '....XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX....\n' +
                        '..XXXXXXXXXXXX................XXXXXXXXXXXX..\n' +
                        '.XXXXXXXXXXXXXX..............XXXXXXXXXXXXXX.\n' +
                        '.XXXXXXXXXXXXXX..............XXXXXXXXXXXXXX.\n' +
                        '.XXXXXXXXXXXXXX..............XXXXXXXXXXXXXX.\n' +
                        '44 18\n'
        ],
        [
                'input': 'read 24\n' +
                        '........................................\n' +
                        '...................................MM...\n' +
                        '..............................MMMMMM,...\n' +
                        '.........................,MMMMMMMMMM....\n' +
                        '....................,MMMMMMMMMMMMMM.....\n' +
                        '................MMMMMMMMMMMMMMMMMMM.....\n' +
                        '..................MMMMMMMMMMMMMMMM......\n' +
                        '...................MMMMMMMMMMMMMMM......\n' +
                        '..................MMMMMMMMMMMMMMM,......\n' +
                        '................+MMMMMMMMMMMMMMMM.......\n' +
                        '...............MMMMMMMMMMMMMMMMM........\n' +
                        '.............MMMMMMMMMMMMMMMMMMM........\n' +
                        '............MMMMMMMMMMMMMM.MMMM,........\n' +
                        '..........MMMMMMMMMMMMMM+....MM.........\n' +
                        '........+MMMMMMMMMMMMMM.................\n' +
                        '.......MMMMMMMMMMMMMM...................\n' +
                        '.....MMMMMMMMMMMMMMM....................\n' +
                        '....MMMMMMMMMMMMMM......................\n' +
                        '..MMMMMMMMMMMMMM+.......................\n' +
                        '..MMMMMMMMMMMMM.........................\n' +
                        '....MMMMMMMMM...........................\n' +
                        '.....MMMMMMM............................\n' +
                        '.......MMM..............................\n' +
                        '........................................\n' +
                        'fill 0 0 #\n' +
                        'fill 2 18 .\n' +
                        'transpose',
                'output': '########################\n' +
                        '########################\n' +
                        '##################..####\n' +
                        '##################..####\n' +
                        '#################....###\n' +
                        '################......##\n' +
                        '################......##\n' +
                        '###############........#\n' +
                        '##############+........#\n' +
                        '##############.........#\n' +
                        '#############.........##\n' +
                        '#############.........##\n' +
                        '############.........###\n' +
                        '###########.........####\n' +
                        '###########.........####\n' +
                        '##########.........#####\n' +
                        '#####.###+........+#####\n' +
                        '#####.###.........######\n' +
                        '#####..#.........#######\n' +
                        '#####............#######\n' +
                        '####,...........########\n' +
                        '####...........#########\n' +
                        '####...........#########\n' +
                        '####..........##########\n' +
                        '####.........+##########\n' +
                        '###,.........###########\n' +
                        '###.........############\n' +
                        '###..........###########\n' +
                        '###..........###########\n' +
                        '###...........##########\n' +
                        '##............##########\n' +
                        '##..........,###########\n' +
                        '##........##############\n' +
                        '##......,###############\n' +
                        '##....##################\n' +
                        '#...####################\n' +
                        '#.,#####################\n' +
                        '########################\n' +
                        '########################\n' +
                        '########################\n' +
                        '24 40\n'
        ],
        [
                'input': 'read 24\n' +
                        '........................................\n' +
                        '...................................MM...\n' +
                        '..............................MMMMMM,...\n' +
                        '.........................,MMMMMMMMMM....\n' +
                        '....................,MMMMMMMMMMMMMM.....\n' +
                        '................MMMMMMMMMMMMMMMMMMM.....\n' +
                        '..................MMMMMMMMMMMMMMMM......\n' +
                        '...................MMMMMMMMMMMMMMM......\n' +
                        '..................MMMMMMMMMMMMMMM,......\n' +
                        '................+MMMMMMMMMMMMMMMM.......\n' +
                        '...............MMMMMMMMMMMMMMMMM........\n' +
                        '.............MMMMMMMMMMMMMMMMMMM........\n' +
                        '............MMMMMMMMMMMMMM.MMMM,........\n' +
                        '..........MMMMMMMMMMMMMM+....MM.........\n' +
                        '........+MMMMMMMMMMMMMM.................\n' +
                        '.......MMMMMMMMMMMMMM...................\n' +
                        '.....MMMMMMMMMMMMMMM....................\n' +
                        '....MMMMMMMMMMMMMM......................\n' +
                        '..MMMMMMMMMMMMMM+.......................\n' +
                        '..MMMMMMMMMMMMM.........................\n' +
                        '....MMMMMMMMM...........................\n' +
                        '.....MMMMMMM............................\n' +
                        '.......MMM..............................\n' +
                        '........................................\n' +
                        'fill 2 24 o\n' +
                        'transpose',
                'output': 'OPERATION FAILED\n'
        ],
        [
                'input': 'read 1\n' +
                        'abba\n' +
                        'symmetric-h',
                'output': 'true\n' +
                          'abba\n' +
                          '4 1\n'
        ],
        [
                'input': 'read 1\n' +
                        'aba\n' +
                        'symmetric-h',
                'output': 'true\n' +
                        'aba\n' +
                        '3 1\n'
        ]
        ,
        [
                'input': 'read 1\n' +
                        'abc\n' +
                        'symmetric-h',
                'output': 'false\n' +
                        'abc\n' +
                        '3 1\n'
        ]
    ]

    void testData() {
        for (def entry in data) {
            // arrange
            def input           = entry['input']
            def expectedOutput  = entry['output']

            // act
            setup(input)
            app.run()

            // assert
            assert Arrays.equals(output.toByteArray(), expectedOutput.getBytes()): "Output != Expected "+output.toString()+"_"+expectedOutput.toString()
        }
    }

    private void setup(String inp) {
        def  bytes            = inp.getBytes()
        output                = new ByteArrayOutputStream()
        input                 = new ByteArrayInputStream(bytes)

        final IOHelper helper = new IOHelper(input, output)

        app = new ShopApp(helper)
    }
}
